# Morse Light / æ‘©æ–¯ç”µç æ‰‹ç”µç­’

![License](https://img.shields.io/badge/license-MIT-blue.svg) ![Version](https://img.shields.io/badge/version-1.0.0-green.svg) ![Languages](https://img.shields.io/badge/languages-16-orange.svg)

[English](#english) | [ä¸­æ–‡](#chinese)

---

<a name="english"></a>
## ğŸ‡¬ğŸ‡§ English

### Project Overview
**Morse Light** is a cross-platform mobile application built with React, Vite, and Capacitor. It allows users to transmit Morse code messages using their device's flashlight or screen. Designed for emergency situations and educational purposes, it features a clean, modern UI, internationalization support for 16 languages, and a dedicated tutorial section.

### Features

#### Functional Features
- **Text-to-Morse Conversion**: Real-time conversion of text input into Morse code signals.
- **Flashlight Transmission**: Uses the device's hardware flashlight to transmit Morse code signals (requires permission).
- **Screen Flash Mode**: Full-screen black-and-white flash mode with countdown timer (3, 2, 1) before transmission starts.
- **Common Phrases**: Quick access to predefined emergency signals like SOS, HELP, WATER, etc.
- **Interactive Tutorial**: Step-by-step guide on how to use the app and understand basic Morse code.
- **Multi-Language Support**: Full support for 16 languages with auto-detection based on device settings.
- **Playback Control**: Start and stop transmission at any time.

#### Supported Languages
| Language | Native Name |
|----------|-------------|
| English | English |
| Chinese (Simplified) | ç®€ä½“ä¸­æ–‡ |
| Chinese (Traditional) | ç¹é«”ä¸­æ–‡ |
| Spanish | EspaÃ±ol |
| Japanese | æ—¥æœ¬èª |
| Italian | Italiano |
| German | Deutsch |
| French | FranÃ§ais |
| Russian | Ğ ÑƒÑÑĞºĞ¸Ğ¹ |
| Arabic | Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© |
| Portuguese | PortuguÃªs |
| Hindi | à¤¹à¤¿à¤¨à¥à¤¦à¥€ |
| Dutch | Nederlands |
| Turkish | TÃ¼rkÃ§e |
| Korean | í•œêµ­ì–´ |
| Malay | Bahasa Melayu |

#### Technical Features
- **Cross-Platform**: Runs on iOS, Android, and Web (PWA).
- **Modern Tech Stack**: Built with React 18, TypeScript, and Vite for fast development and performance.
- **Capacitor Integration**: Native device feature access (Flashlight) via Capacitor plugins.
- **Custom Plugin**: Includes a local Capacitor plugin for flashlight control (`plugins/flashlight`).
- **Styling**: Utility-first styling with Tailwind CSS and `clsx` for conditional classes.
- **State Management**: React Context API for global state management.
- **Auto Language Detection**: Automatically detects device language and sets the appropriate default.

### Architecture Overview
The project follows a standard React application structure powered by Vite:

- **`src/`**: Source code root.
  - **`components/`**: Reusable UI components.
  - **`pages/`**: Main application screens (Home, Phrases, Tutorial).
  - **`hooks/`**: Custom React hooks (e.g., `useFlashlight`).
  - **`utils/`**: Utility functions (Morse code logic, timing constants).
  - **`i18n/`**: Internationalization configuration and translation files.
  - **`contexts/`**: React Context providers (Language, Settings).
- **`plugins/`**: Local Capacitor plugins (e.g., `flashlight`).
- **`ios/`**: Native iOS project files (generated by Capacitor).

### Installation & Running

#### Prerequisites
- Node.js (v18+ recommended)
- npm or yarn
- CocoaPods (for iOS development)
- Xcode (for iOS development)

#### Steps
1. **Clone the repository:**
   ```bash
   git clone <repository-url>
   cd morse
   ```

2. **Install dependencies:**
   ```bash
   npm install
   ```

3. **Run in development mode (Web):**
   ```bash
   npm run dev
   ```
   Open your browser at the URL shown (usually `http://localhost:5173`).

4. **Build for production:**
   ```bash
   npm run build
   ```

### Deployment

#### iOS
1. **Sync Capacitor config:**
   ```bash
   npx cap sync ios
   ```

2. **Open in Xcode:**
   ```bash
   npx cap open ios
   ```

3. **Build & Run:**
   - Select your target device or simulator in Xcode.
   - Click the "Run" (Play) button.
   *Note: Physical device required for flashlight testing.*

### Usage Examples

#### Sending a Custom Message
1. Go to the **Home** tab.
2. Type "HELLO" in the text box.
3. Tap **START TRANSMISSION**.
4. The flashlight (or screen) will flash the Morse code for "HELLO".

#### Sending an SOS
1. Go to the **Phrases** tab.
2. Tap on the **SOS** card.
3. The app will immediately start transmitting the SOS signal.

#### Using Screen Flash Mode
1. Open **Settings** (gear icon).
2. Set **Transmission Mode** to "Screen Flash".
3. Type your message and tap **START TRANSMISSION**.
4. Watch the **3, 2, 1 countdown**.
5. The screen will turn black and flash white for Morse signals.

### Configuration
- **Language**: Select from 16 languages in **Settings** using the dropdown menu. The app auto-detects your device language on first launch.
- **Transmission Mode**: Toggle between "Flashlight" and "Screen Flash" in **Settings**.

### Testing
Currently, the project relies on manual testing.
- **Unit Tests**: Not yet implemented.
- **Manual Verification**:
  - Verify flashlight toggles correctly on a real device.
  - Verify countdown (3, 2, 1) appears when using screen flash mode.
  - Verify screen flashes white on black background in screen flash mode.
  - Check all translations in all 16 supported languages.

### Contributing
Contributions are welcome! Please follow these steps:
1. Fork the repository.
2. Create a feature branch (`git checkout -b feature/AmazingFeature`).
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`).
4. Push to the branch (`git push origin feature/AmazingFeature`).
5. Open a Pull Request.

### License
Distributed under the MIT License. See `LICENSE` for more information.

### FAQ
**Q: Why doesn't the flashlight work on my simulator?**
A: Simulators do not have hardware flashlights. Please test on a physical device or use the Screen Flash mode.

**Q: Can I add more languages?**
A: Yes! Add the new language to `LANGUAGE_OPTIONS` and `translations` in `src/i18n/translations.ts`.

**Q: How does the countdown work?**
A: When using Screen Flash mode, a 3-2-1 countdown appears before transmission begins, giving you time to prepare.

---

<a name="chinese"></a>
## ğŸ‡¨ğŸ‡³ ä¸­æ–‡

### é¡¹ç›®æ¦‚è¿°
**æ‘©æ–¯ç”µç æ‰‹ç”µç­’ (Morse Light)** æ˜¯ä¸€æ¬¾åŸºäº Reactã€Vite å’Œ Capacitor æ„å»ºçš„è·¨å¹³å°ç§»åŠ¨åº”ç”¨ç¨‹åºã€‚å®ƒå…è®¸ç”¨æˆ·ä½¿ç”¨è®¾å¤‡çš„é—ªå…‰ç¯æˆ–å±å¹•å‘é€æ‘©æ–¯ç”µç ä¿¡æ¯ã€‚è¯¥åº”ç”¨ä¸“ä¸ºç´§æ€¥æƒ…å†µå’Œæ•™è‚²ç›®çš„è®¾è®¡ï¼Œæ‹¥æœ‰ç®€æ´ç°ä»£çš„ç”¨æˆ·ç•Œé¢ï¼Œæ”¯æŒ16ç§è¯­è¨€ï¼Œå¹¶åŒ…å«ä¸“é—¨çš„æ•™ç¨‹éƒ¨åˆ†ã€‚

### åŠŸèƒ½ç‰¹æ€§

#### åŠŸèƒ½ç‰¹ç‚¹
- **æ–‡æœ¬è½¬æ‘©æ–¯ç”µç **ï¼šå°†è¾“å…¥çš„æ–‡æœ¬å®æ—¶è½¬æ¢ä¸ºæ‘©æ–¯ç”µç ä¿¡å·ã€‚
- **æ‰‹ç”µç­’ä¼ è¾“**ï¼šä½¿ç”¨è®¾å¤‡çš„ç¡¬ä»¶é—ªå…‰ç¯å‘é€æ‘©æ–¯ç”µç ä¿¡å·ï¼ˆéœ€è¦æƒé™ï¼‰ã€‚
- **å±å¹•é—ªçƒæ¨¡å¼**ï¼šå…¨å±é»‘ç™½é—ªçƒæ¨¡å¼ï¼Œä¼ è¾“å¼€å§‹å‰æœ‰å€’è®¡æ—¶åŠ¨ç”»ï¼ˆ3ã€2ã€1ï¼‰ã€‚
- **å¸¸ç”¨çŸ­è¯­**ï¼šå¿«é€Ÿè®¿é—®é¢„å®šä¹‰çš„ç´§æ€¥ä¿¡å·ï¼Œå¦‚ SOSã€HELPã€WATER ç­‰ã€‚
- **äº¤äº’å¼æ•™ç¨‹**ï¼šé€æ­¥æŒ‡å¯¼å¦‚ä½•ä½¿ç”¨åº”ç”¨ç¨‹åºå’Œç†è§£åŸºæœ¬æ‘©æ–¯ç”µç ã€‚
- **å¤šè¯­è¨€æ”¯æŒ**ï¼šå®Œå…¨æ”¯æŒ16ç§è¯­è¨€ï¼Œæ ¹æ®è®¾å¤‡è®¾ç½®è‡ªåŠ¨æ£€æµ‹è¯­è¨€ã€‚
- **æ’­æ”¾æ§åˆ¶**ï¼šéšæ—¶å¼€å§‹å’Œåœæ­¢ä¼ è¾“ã€‚

#### æ”¯æŒçš„è¯­è¨€
| è¯­è¨€ | æœ¬åœ°åç§° |
|------|----------|
| è‹±è¯­ | English |
| ç®€ä½“ä¸­æ–‡ | ç®€ä½“ä¸­æ–‡ |
| ç¹ä½“ä¸­æ–‡ | ç¹é«”ä¸­æ–‡ |
| è¥¿ç­ç‰™è¯­ | EspaÃ±ol |
| æ—¥è¯­ | æ—¥æœ¬èª |
| æ„å¤§åˆ©è¯­ | Italiano |
| å¾·è¯­ | Deutsch |
| æ³•è¯­ | FranÃ§ais |
| ä¿„è¯­ | Ğ ÑƒÑÑĞºĞ¸Ğ¹ |
| é˜¿æ‹‰ä¼¯è¯­ | Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© |
| è‘¡è„ç‰™è¯­ | PortuguÃªs |
| å°åœ°è¯­ | à¤¹à¤¿à¤¨à¥à¤¦à¥€ |
| è·å…°è¯­ | Nederlands |
| åœŸè€³å…¶è¯­ | TÃ¼rkÃ§e |
| éŸ©è¯­ | í•œêµ­ì–´ |
| é©¬æ¥è¯­ | Bahasa Melayu |

#### æŠ€æœ¯ç‰¹ç‚¹
- **è·¨å¹³å°**ï¼šå¯åœ¨ iOSã€Android å’Œ Web (PWA) ä¸Šè¿è¡Œã€‚
- **ç°ä»£æŠ€æœ¯æ ˆ**ï¼šä½¿ç”¨ React 18ã€TypeScript å’Œ Vite æ„å»ºï¼Œå¼€å‘è¿…é€Ÿï¼Œæ€§èƒ½ä¼˜è¶Šã€‚
- **Capacitor é›†æˆ**ï¼šé€šè¿‡ Capacitor æ’ä»¶è®¿é—®åŸç”Ÿè®¾å¤‡åŠŸèƒ½ï¼ˆé—ªå…‰ç¯ï¼‰ã€‚
- **è‡ªå®šä¹‰æ’ä»¶**ï¼šåŒ…å«ç”¨äºæ‰‹ç”µç­’æ§åˆ¶çš„æœ¬åœ° Capacitor æ’ä»¶ (`plugins/flashlight`)ã€‚
- **æ ·å¼è®¾è®¡**ï¼šä½¿ç”¨ Tailwind CSS å’Œ `clsx` è¿›è¡Œå®ç”¨ä¼˜å…ˆçš„æ ·å¼è®¾è®¡ã€‚
- **çŠ¶æ€ç®¡ç†**ï¼šä½¿ç”¨ React Context API è¿›è¡Œå…¨å±€çŠ¶æ€ç®¡ç†ã€‚
- **è‡ªåŠ¨è¯­è¨€æ£€æµ‹**ï¼šè‡ªåŠ¨æ£€æµ‹è®¾å¤‡è¯­è¨€å¹¶è®¾ç½®ç›¸åº”çš„é»˜è®¤è¯­è¨€ã€‚

### æ¶æ„æ¦‚è§ˆ
æœ¬é¡¹ç›®éµå¾ªç”± Vite é©±åŠ¨çš„æ ‡å‡† React åº”ç”¨ç¨‹åºç»“æ„ï¼š

- **`src/`**ï¼šæºä»£ç æ ¹ç›®å½•ã€‚
  - **`components/`**ï¼šå¯å¤ç”¨çš„ UI ç»„ä»¶ã€‚
  - **`pages/`**ï¼šä¸»è¦åº”ç”¨å±å¹•ï¼ˆé¦–é¡µã€çŸ­è¯­ã€æ•™ç¨‹ï¼‰ã€‚
  - **`hooks/`**ï¼šè‡ªå®šä¹‰ React Hooksï¼ˆä¾‹å¦‚ `useFlashlight`ï¼‰ã€‚
  - **`utils/`**ï¼šå·¥å…·å‡½æ•°ï¼ˆæ‘©æ–¯ç”µç é€»è¾‘ã€è®¡æ—¶å¸¸é‡ï¼‰ã€‚
  - **`i18n/`**ï¼šå›½é™…åŒ–é…ç½®å’Œç¿»è¯‘æ–‡ä»¶ã€‚
  - **`contexts/`**ï¼šReact Context æä¾›è€…ï¼ˆè¯­è¨€ã€è®¾ç½®ï¼‰ã€‚
- **`plugins/`**ï¼šæœ¬åœ° Capacitor æ’ä»¶ï¼ˆä¾‹å¦‚ `flashlight`ï¼‰ã€‚
- **`ios/`**ï¼šåŸç”Ÿ iOS é¡¹ç›®æ–‡ä»¶ï¼ˆç”± Capacitor ç”Ÿæˆï¼‰ã€‚

### å®‰è£…ä¸è¿è¡Œ

#### å‰ææ¡ä»¶
- Node.js (å»ºè®® v18+)
- npm æˆ– yarn
- CocoaPods (ç”¨äº iOS å¼€å‘)
- Xcode (ç”¨äº iOS å¼€å‘)

#### æ­¥éª¤
1. **å…‹éš†ä»“åº“ï¼š**
   ```bash
   git clone <repository-url>
   cd morse
   ```

2. **å®‰è£…ä¾èµ–ï¼š**
   ```bash
   npm install
   ```

3. **è¿è¡Œå¼€å‘æ¨¡å¼ (Web)ï¼š**
   ```bash
   npm run dev
   ```
   åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æ˜¾ç¤ºçš„ URLï¼ˆé€šå¸¸æ˜¯ `http://localhost:5173`ï¼‰ã€‚

4. **æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼š**
   ```bash
   npm run build
   ```

### éƒ¨ç½²

#### iOS
1. **åŒæ­¥ Capacitor é…ç½®ï¼š**
   ```bash
   npx cap sync ios
   ```

2. **åœ¨ Xcode ä¸­æ‰“å¼€ï¼š**
   ```bash
   npx cap open ios
   ```

3. **æ„å»ºå¹¶è¿è¡Œï¼š**
   - åœ¨ Xcode ä¸­é€‰æ‹©ç›®æ ‡è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨ã€‚
   - ç‚¹å‡» "Run" (æ’­æ”¾) æŒ‰é’®ã€‚
   *æ³¨æ„ï¼šæ‰‹ç”µç­’æµ‹è¯•éœ€è¦çœŸæœºã€‚*

### ä½¿ç”¨ç¤ºä¾‹

#### å‘é€è‡ªå®šä¹‰æ¶ˆæ¯
1. è½¬åˆ° **é¦–é¡µ (Home)** æ ‡ç­¾ã€‚
2. åœ¨æ–‡æœ¬æ¡†ä¸­è¾“å…¥ "HELLO"ã€‚
3. ç‚¹å‡» **å¼€å§‹ä¼ è¾“ (START TRANSMISSION)**ã€‚
4. æ‰‹ç”µç­’ï¼ˆæˆ–å±å¹•ï¼‰å°†é—ªçƒ "HELLO" çš„æ‘©æ–¯ç”µç ã€‚

#### å‘é€ SOS
1. è½¬åˆ° **çŸ­è¯­ (Phrases)** æ ‡ç­¾ã€‚
2. ç‚¹å‡» **SOS** å¡ç‰‡ã€‚
3. åº”ç”¨å°†ç«‹å³å¼€å§‹ä¼ è¾“ SOS ä¿¡å·ã€‚

#### ä½¿ç”¨å±å¹•é—ªçƒæ¨¡å¼
1. æ‰“å¼€ **è®¾ç½®**ï¼ˆé½¿è½®å›¾æ ‡ï¼‰ã€‚
2. å°† **ä¼ è¾“æ¨¡å¼** è®¾ç½®ä¸º "å±å¹•é—ªçƒ"ã€‚
3. è¾“å…¥æ‚¨çš„ä¿¡æ¯å¹¶ç‚¹å‡» **å¼€å§‹ä¼ è¾“**ã€‚
4. è§‚çœ‹ **3ã€2ã€1 å€’è®¡æ—¶**ã€‚
5. å±å¹•å°†å˜é»‘å¹¶é—ªçƒç™½è‰²æ¥å‘é€æ‘©æ–¯ä¿¡å·ã€‚

### é…ç½®é€‰é¡¹
- **è¯­è¨€**ï¼šåœ¨ **è®¾ç½®** ä¸­ä½¿ç”¨ä¸‹æ‹‰èœå•ä»16ç§è¯­è¨€ä¸­é€‰æ‹©ã€‚åº”ç”¨é¦–æ¬¡å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ£€æµ‹æ‚¨çš„è®¾å¤‡è¯­è¨€ã€‚
- **ä¼ è¾“æ¨¡å¼**ï¼šåœ¨ **è®¾ç½®** ä¸­åˆ‡æ¢ "æ‰‹ç”µç­’" å’Œ "å±å¹•é—ªçƒ"ã€‚

### æµ‹è¯•
ç›®å‰ï¼Œé¡¹ç›®ä¾èµ–äºæ‰‹åŠ¨æµ‹è¯•ã€‚
- **å•å…ƒæµ‹è¯•**ï¼šå°šæœªå®æ–½ã€‚
- **æ‰‹åŠ¨éªŒè¯**ï¼š
  - åœ¨çœŸæœºä¸ŠéªŒè¯æ‰‹ç”µç­’æ˜¯å¦æ­£ç¡®å¼€å…³ã€‚
  - éªŒè¯ä½¿ç”¨å±å¹•é—ªçƒæ¨¡å¼æ—¶æ˜¯å¦å‡ºç°å€’è®¡æ—¶ï¼ˆ3ã€2ã€1ï¼‰ã€‚
  - éªŒè¯å±å¹•é—ªçƒæ¨¡å¼ä¸‹é»‘åº•ç™½é—ªæ˜¯å¦æ­£å¸¸å·¥ä½œã€‚
  - æ£€æŸ¥æ‰€æœ‰16ç§æ”¯æŒè¯­è¨€çš„ç¿»è¯‘æ˜¯å¦æ­£ç¡®ã€‚

### è´¡çŒ®æŒ‡å—
æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š
1. Fork æœ¬ä»“åº“ã€‚
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)ã€‚
3. æäº¤æ‚¨çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)ã€‚
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)ã€‚
5. æäº¤ Pull Requestã€‚

### è®¸å¯åè®®
æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯åˆ†å‘ã€‚è¯¦æƒ…è¯·å‚é˜… `LICENSE` æ–‡ä»¶ã€‚

### å¸¸è§é—®é¢˜è§£ç­” (FAQ)
**é—®ï¼šä¸ºä»€ä¹ˆæ‰‹ç”µç­’åœ¨æˆ‘çš„æ¨¡æ‹Ÿå™¨ä¸Šä¸å·¥ä½œï¼Ÿ**
ç­”ï¼šæ¨¡æ‹Ÿå™¨æ²¡æœ‰ç¡¬ä»¶æ‰‹ç”µç­’ã€‚è¯·åœ¨çœŸæœºä¸Šæµ‹è¯•æˆ–ä½¿ç”¨å±å¹•é—ªçƒæ¨¡å¼ã€‚

**é—®ï¼šæˆ‘å¯ä»¥æ·»åŠ æ›´å¤šè¯­è¨€å—ï¼Ÿ**
ç­”ï¼šå¯ä»¥ï¼åœ¨ `src/i18n/translations.ts` ä¸­çš„ `LANGUAGE_OPTIONS` å’Œ `translations` ä¸­æ·»åŠ æ–°è¯­è¨€å³å¯ã€‚

**é—®ï¼šå€’è®¡æ—¶æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ**
ç­”ï¼šä½¿ç”¨å±å¹•é—ªçƒæ¨¡å¼æ—¶ï¼Œä¼ è¾“å¼€å§‹å‰ä¼šå‡ºç°3-2-1å€’è®¡æ—¶ï¼Œè®©æ‚¨æœ‰æ—¶é—´åšå¥½å‡†å¤‡ã€‚

---

## Changelog / æ›´æ–°æ—¥å¿—

### v1.1.0 (2025-12-11)
- ğŸŒ Added product website (`website/`) with 16 language support
- ğŸŒ Website auto-detects browser language
- ğŸŒ Ready for Cloudflare Pages deployment

### v1.0.0 (2025-12-11)
- âœ¨ Added support for 16 languages with auto-detection
- âœ¨ Added countdown timer (3, 2, 1) for screen flash mode
- âœ¨ Full-screen black-and-white flash mode for better visibility
- ğŸ”§ Language selection changed to dropdown menu
- ğŸ”§ Improved UI/UX in settings panel

---

## Product Website / äº§å“ç½‘ç«™

A product landing page is available in the `website/` directory.

### Features
- ğŸ“± Responsive single-page design
- ğŸŒ 16 languages with auto-detection
- ğŸ¨ Dark theme matching the app
- â˜ï¸ Ready for Cloudflare Pages deployment

### Local Preview
```bash
cd website
python3 -m http.server 8080
# Visit http://localhost:8080
```

### Deploy to Cloudflare Pages
1. Go to [Cloudflare Dashboard](https://dash.cloudflare.com) â†’ Workers & Pages
2. Create new Pages project
3. Upload the `website/` folder or connect via Git
4. Your site will be live at `*.pages.dev`

